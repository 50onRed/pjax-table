/*!
 * PJAX Table v2.1.4 ()
 * Copyright 2020
 * 
 */

!function t(e,i,a){function r(s,o){if(!i[s]){if(!e[s]){var l="function"==typeof require&&require;if(!o&&l)return l(s,!0);if(n)return n(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var u=i[s]={exports:{}};e[s][0].call(u.exports,function(t){var i=e[s][1][t];return r(i?i:t)},u,u.exports,t,e,i,a)}return i[s].exports}for(var n="function"==typeof require&&require,s=0;s<a.length;s++)r(a[s]);return r}({1:[function(t,e,i){"use strict";function a(t,e){return this._$el=$(t),this._initialQueryState=e.queryState,this._record=e.record,this}"object"==typeof e?e.exports=a:"function"==typeof define?define(function(){return a}):window.CellPluginMixin=a},{}],2:[function(t,e,i){"use strict";function a(t,e){n.call(this,t,e),this._$editable=this._$el.find("[data-editable-link]"),this.url=this._$editable.data("url"),this.record=e.record,this.name=this._$editable.data("name"),this.dataFormat=this._$el.data("format"),this.validators=this._$editable.data("editable-validators"),this.defaultValue=this._$editable.data("default-value"),this.initialValue=this._$editable.data("value"),this.formatMap={text:function(t){return t},usd:function(t){return numeral(t).format("$0,0.00")},usd_thousandth:function(t){return numeral(t).format("$0,0.000")},percent:function(t){return numeral(t).divide(100).format("0.00%")}},this._defaultErrorMessage="Something went wrong.",this.init()}var r=t("../util/widget"),n=t("./cell_plugin_mixin");a.prototype.init=function(){this._$editable.on("shown",$.proxy(this._onShown,this)),this._$editable.editable({ajaxOptions:{contentType:"application/json",dataType:"json"},toggle:"click",display:this._display.bind(this),params:this._params.bind(this),success:this._onSuccess.bind(this),error:this._onError.bind(this),defaultValue:this.defaultValue,emptytext:this._display.bind(this)}),this._$editable.editable("show")},a.prototype._display=function(t,e){return t=t||this.defaultValue,this.dataFormat?this.formatMap[this.dataFormat](t):null},a.prototype._onShown=function(t,e){var i=e.input.$input,a=i.val();0===a.indexOf("$")&&i.val(a.substr(1)),"unlimited"===a&&i.val(""),$.each(this.validators,function(t,e){i.attr("data-"+t,e)}),i.parsley(),e.container.$form.find(".editable-submit").click(function(t){return i.parsley().validate()===!0}.bind(this)),this._$el.trigger("editable:open",{name:this.name})},a.prototype._params=function(t){var e={pk:t.pk};e[this.name]="usd"===this.dataFormat||"usd_thousandth"===this.dataFormat?t.value?parseFloat(t.value):null:t.value?t.value:null;var i=this.record.additionalFields.requiredFields;if(i=i?i.split(","):null)for(var a=0;a<i.length;a++){var r=i[a],n=this.record.additionalFields[r];n&&(e[r]=n)}return JSON.stringify(e)},a.prototype._onSuccess=function(t,e){{var i=this._$editable.data("editableContainer").$form;t.message}i.find(".form-group").removeClass("has-error"),this._$el.find(this._$el.data("display-target")).text(this._display(e)),!e&&this._$editable.data("default-value")?(this._$editable.attr("data-value","null"),this._$editable.editable("setValue",this._$editable.data("default-value")),this._$editable.text(this._$editable.data("default-value"))):(this._$editable.attr("data-value",e),this._$editable.editable("setValue",e)),this._$el.trigger("editable:success",{value:e,data:t,name:this.name})},a.prototype._onError=function(t,e){var i,a,r;400===t.status&&(i=t.responseJSON||{},a=i.errors||{},r=Object.keys(a),this._clearErrorMessages(),r.length?r.forEach(function(t){a[t].forEach(this._showErrorMessage.bind(this))}.bind(this)):this._showErrorMessage(this._defaultErrorMessage)),this._$el.trigger("editable:error",{errors:a})},a.prototype._clearErrorMessages=function(){this._$editable.data("editableContainer").$form.find(".form-group").removeClass("has-error").end().find(".ui-errors").empty()},a.prototype._showErrorMessage=function(t){var e=this._$editable.data("editableContainer").$form;e.find(".form-group").addClass("has-error"),e.find(".ui-errors").append($('<div class="ui-error help-block"></div>').text(t))},"object"==typeof e?e.exports=a:"function"==typeof define&&define(function(){return a}),window.EditableCellPlugin=a,r("editableCellPlugin",a)},{"../util/widget":3,"./cell_plugin_mixin":1}],3:[function(t,e,i){"use strict";function a(t,e){function i(t){var i=r.call(arguments),a=[];return $(this).each(function(){var r,n=$(this),s=n.data(o);if(s||(s=n.data(o,new e(this,t)).data(o)),"string"==typeof t)if("destroy"===t)"function"==typeof s.destroy&&s.destroy(),delete n.data()[o];else{if("function"!=typeof s[t]||"_"===t.charAt(0))throw new Error("Invalid method: "+t);r=s[t].apply(s,i.slice(1,i.length)),a.push(r)}else a.push(s)}),a.length>1?a:a[0]}var a,n=$,s=t.split("."),o=s.pop();s.length||(s=["PjaxTable","widget"]),a=s.length;for(var l=0;a>l;l++)n[s[l]]||(n[s[l]]={}),n=n[s[l]];return $.fn[o]||($.fn[o]=i),n[o]=i,i}var r=Array.prototype.slice;e.exports=a},{}]},{},[2]);